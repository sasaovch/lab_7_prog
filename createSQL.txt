CREATE TABLE SpaceMarine (
id SERIAL PRIMARY KEY,
name VARCHAR(50) NOT NULL,
creating_date_time timestamp NOT NULL,
Coordinates bigint NOT NULL,
health INT CHECK(health>0),
heart_Count INT CHECK(heart_Count > 0),
loyal BOOLEAN,
Astartes_Category astartes_category NOT NULL,
Chapter bigint,
owner_id bigint not null,
CHECK(heart_Count <= 3),
FOREIGN KEY(Coordinates) REFERENCES coordinates(id),
FOREIGN KEY(Chapter) REFERENCES chapter(name));

CREATE TYPE AstartesCategory AS ENUM (
'AGGRESSOR',
'INCEPTOR',
'TACTICAL',
'CHAPLAIN',
'HELIX');

CREATE TABLE Coordinates (
id SERIAL PRIMARY KEY,
x double precision,
y bigint);

CREATE TABLE Chapter (
name varchar(50) PRIMARE KEY,
parent_Legion varchar(50),
marines_Count bigint NOT NULL CHECK(marines_Count > 0),
world varchar(50),
CHECK(marines_Count <=1000));

ALTER TABLE table_name DROP CONSTRAINT constraint_name;


('aleks','12','12.01.20','2','2','true','helix','nsd');
insert into spacemarine (name, coordinates, creatindatetime, health, heartcount, loyal, astartescategory, chapter)
values ('aleks','12','12.01.20','2','2','true','HELIX','nsd');